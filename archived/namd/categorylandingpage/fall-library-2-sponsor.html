<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Inferno Snippet Mockup Template</title>
  <!-- Import Roboto -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic|Roboto+Mono:400,500|Material+Icons" rel="stylesheet">
  <!-- Import Inferno's Styles -->
  <link rel="stylesheet" href="https://studio304nextechar.freetls.fastly.net/infernoAR/_templates/css/inferno-base-styles.css">
  <link rel="stylesheet" href="https://studio304nextechar.freetls.fastly.net/infernoAR/_templates/css/inferno-extra-styles.css">
  <!--  Local/Client Color Overrides if they file exists -->
  <link rel="stylesheet" href="../inferno-client.css">
  <script>
    let landingPageEl = null
    window.isLocalTemplate = true
  </script>
  <!-- Import JQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
  <!--  Authenticate into the platform and set session values so you can leverage API calls in your snippets -->
  <script>
    function authenticate(project) {
      const _baseUrl = 'https://ingress.infernocore.jolokia.com/api/'
      // Auth w/ Inferno API
      const params = {
        email: project.username,
        password: project.password,
        grantType: 'password',
      }

      // Set header
      const headers = {'X-InfernoCore-Domain': project.domain}

      // perform synchronous ajax call so rest of code waits until you are authenticated
      $.ajax({
        url: _baseUrl + 'token',
        type: 'POST',
        async: false,
        accept: 'application/json',
        contentType: 'application/json',
        headers: headers,
        data: JSON.stringify(params),
        success: function (res) {
          sessionStorage.setItem('domain', project.domain)
          storeUser(JSON.parse(res))
        },
        error: function (err) {
          alert(JSON.stringify(err))
        },
        complete: function () {
          console.log('user was authenticated into ', project.domain)
        },
      })

    }

    function storeUser(data) {
      // console.log(data);
      sessionStorage.setItem('clientId', data.ClientId)
      sessionStorage.setItem('token', data.AccessToken)
      sessionStorage.setItem('refreshToken', data.RefreshToken)
    }

    function login() {
      window.addEventListener('load', (event) => {
        const projectEl = document.querySelector('#novoProject');
        const projectName = projectEl ? projectEl.getAttribute('name') : null;
        const currentProject = projects.filter(project => {
          return project.name === projectName;
        })[0];

        if (!currentProject) {
          alert('could not log into Inferno \n\r Check the project name in the login() function');
          return;
        }

        authenticate(currentProject);
      });
    }

  </script>
  <!-- store your credentials in a local file -->
  <!-- use to keep credentials out of files in case of committing to REPO or sharing template with someone else.-->
  <!-- projects = [{name: 'anything', username: 'email@address.com', password: '**********', domain: 'novologic.infernoar.com'}]-->
  <script onload="login()" onerror="console.error('/inferno.config.js', 'does not exist, can not log into inferno as test user')" src="/inferno.config.js"></script>

  <!-- Liquid Templating -->
  <script src="https://cdn.jsdelivr.net/npm/liquidjs/dist/liquid.min.js"></script>
  <!--  Load Liquid JSON From Local file -->
  <script>
    function loadJSON(file, callback) {

      const xobj = new XMLHttpRequest()
      xobj.overrideMimeType('application/json')
      xobj.open('GET', file, false) // Replace 'my_data' with the path to your file
      xobj.onreadystatechange = function () {
        if (xobj.readyState == 4 && xobj.status == '200') {
          // Required use of an anonymous callback as .open will NOT return a value but simply returns undefined in asynchronous mode
          callback(xobj.responseText)
        }
      }
      xobj.send(null)
    }

    // Insert your liquid data here. Remember to convert from JSON to JS Object (use https://json-to-js.com/ or similar)
    // Set data object to null to skip Liquid processing. You probably want to do this if you're not using liquid as the
    // processing can potentially interfere with scripts that run on page load.
    var data = {}
    loadJSON('../liquid.json', function (response) {
      // Parse JSON string into object
      const x = JSON.parse(response)
      data = x[0]
    })

  </script>

  <!-- Build out Local Menu on Left Navigation -->

  <style>
    #localTemplateMenu {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      padding: 1em;
    }

    #localTemplateMenu a {
      display: block;
      margin: .25em;
      background-color: var(--sidebar-bg-color);
      border: none;
      border-bottom: solid 1px var(--sidebar-highlight-text-color);
      color: var(--sidebar-text-color);
      cursor: pointer;
      width: 80%;
      padding: .25em 0;
    }

    #localTemplateMenu a:hover {
      filter: brightness(80%);
      text-decoration: none;
      transform: translateX(-.3em);
    }

    #localTemplateMenu a.activeMenu {
      background-color: var(--sidebar-highlight-bg-color);
      color: var(--sidebar-text-color);
    }

    .aside-collapsed * #localTemplateMenu {
      margin: 0;
      padding: 1em 0;
    }

    .aside-collapsed * #localTemplateMenu a {
      word-wrap: break-word;
      min-width: 100%;
      border-radius: 0;
      border-bottom: 1px solid var(--sidebar-text-color);
    }

    .aside-collapsed * #localTemplateMenu a:hover {
      transform: none;
    }

  </style>
  <script>
    function buildLocalMenu() {
      window.addEventListener('load', (event) => {
        const menu = document.getElementById('localTemplateMenu');
        window.localTemplateMenuItems.forEach(item => {
          const menuItem = document.createElement('a');
          menuItem.href = "../" + item.file;
          menuItem.innerHTML = item.name;
          menuItem.setAttribute('title', item.file + '\n\r' + item.snippetID);
          try {
            const currentSnippet = landingPageEl.querySelector('#' + item.snippetID.toString());
            if (currentSnippet) {
              menuItem.classList.toggle('activeMenu');
            }
          } catch (e) {
            // do nothing;
          }
          menu.appendChild(menuItem);
        })
      })
    }
  </script>
  <script onload="buildLocalMenu()" onerror="console.error('../menu.js', 'does not exist, run inferno build {project-name} to generate menu.js file')" src="../menu.js"></script>

</head>

<body>
<div style="display:none" id="novoProject" name="namd" onload="login()"></div>
<app-root class="layout-fixed has-menu">
  <videos-layout>
    <div class="wrapper" layout="column">
      <app-header class="topnavbar-wrapper">
        <mat-toolbar class="mat-elevation-z3 navbar topnavbar mat-toolbar mat-primary mat-toolbar-single-row ng-star-inserted" color="primary">
          <div class="navbar-header"><a href="/">LOCAL</a></div>
          <div class="ellipsis ng-star-inserted" flex layout="row" layout-align="start center">
            <button class="menu-btn mat-icon-button ng-star-inserted" hide mat-icon-button show-gt-sm trigger-resize onclick="mtTriggerMenu()">
              <span class="mat-button-wrapper">
                  <mat-icon class="mat-icon material-icons mat-icon-no-color" role="img" aria-hidden="true">
                    menu
                  </mat-icon>
              </span>
            </button>
            <div _ngcontent-inv-c7 class="mat-title ellipsis m0" flex title="Page Title">Sample Page Title</div>
          </div>
        </mat-toolbar>
      </app-header>
      <!-- SIDEBAR -->
      <videos-sidebar class="aside">
        <div class="aside-inner">
          <nav class="sidebar" sidebar-anyclick-close>
            <div class="nav" id="localTemplateMenu"></div>
          </nav>

        </div>
      </videos-sidebar>
      <!-- ./ SIDEBAR -->
      <!-- LANDING -->
      <section class="IE-FlexAuto" flex>
        <div class="content-wrapper">
          <landing-page class="ng-star-inserted">
            <div id="landing">
              <!-- CREATE SHADOW DOM AND ATTACH STYLES -->
              <script>
                landingPageEl = document.querySelector('landing-page').attachShadow({mode: 'open'})
                const landing = landingPageEl.appendChild(document.getElementById('landing'))
                landingPageEl.appendChild(landing)
                const loginPageEl = landingPageEl
              </script>
              <style type="text/css">
                @import url("https://studio304nextechar.freetls.fastly.net/infernoAR/_templates/css/inferno-shadow-styles.css");
              </style>
              <!-- ********************* -->
              <!-- ********************* -->
              <!-- ********************* -->
              <!-- SNIPPET CONTENT START -->
              <inferno-snippet-content id="a7f3df83-f5c7-49ac-849a-dbff2254bbc1">

<style>
                    /* prevent entire screen from going black if you try to reference an image that does not exist*/
                    /* apparently some style or JS that is setting a style do that somewhere else in the inferno system*/
                    img::after {
                      content: none;
                    }

                    .content {
                      background-image: url('https://studio304nextechar.freetls.fastly.net/infernoAR/namd/fall/library/library-bg.png');
                      background-attachment: fixed;
                      background-repeat: no-repeat;
                      background-size: cover;
                      background-position: center;
                      min-height: calc(100vh - 114px);
                      margin: -20px;
                      padding: 20px 24px;
                      z-index: 1;
                      font-family: "gotham", Helvetica, Arial, sans-serif;
                    }

                    .top-banner {
                      padding: 10px 50px;
                      line-height: 60px;
                      color: white;
                      font-size: 32px;
                      background-color: #5377A6;
                      margin: -20px -24px 20px -24px;
                    }

                    .top-banner h1 {
                      font-size: 1em;
                      font-family: "gothamBook", Helvetica, Arial, sans-serif;
                      font-weight: bold;
                    }

                    .top-banner hr {
                      border: solid 2px #00467F;
                      width: 75%;
                    }


                    .grid {
                      display: flex;
                      flex-direction: row;
                      flex-wrap: wrap;
                      max-width: 90%;
                      padding: 1% 1% 40px 1%;
                      margin-left: auto;
                    }

                    .card {
                      position: relative;
                      display: flex;
                      flex-direction: column;
                      justify-content: space-between;
                      align-items: center;
                      width: 25%;
                      background-color: #00467F;
                      margin: 10px;
                      padding: 2% 1%;
                      color: white;
                      font-family: "gothamBook", Helvetica, Arial, sans-serif;
                    }

                    .card img {
                      height: 120px;
                      border-radius: .5em;
                      width: auto;

                    }

                    .category {
                      text-align: center;
                      font-size: 1.2em;
                      font-weight: bold;
                      margin-bottom: 1em;
                    }

                    .title {
                      margin: 1em 0;
                      font-size: 1em;
                      font-weight: bold;
                      text-align: center;
                    }

                    .description {
                      margin: 1em 0;
                      font-size: .75em;
                      text-align: center;

                    }

                    .download {
                      border-radius: 2em;
                      padding: .5em 2em;
                      color: white;
                      background-color: var(--sidebar-bg-color);
                      border: solid 1px #cccccc;
                    }

                    .download:hover {
                      filter: brightness(110%);
                      cursor: pointer;
                      -ms-transform: translateY(-.5vh);
                      -webkit-transform: translateY(-.5vh);
                      transform: translateY(-.5vh);
                    }
                  </style>

                  <pdf-viewer>
                    <style>
                      .pdf-view {
                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;
                        background-color: rgba(0, 0, 0, 0.8);
                        z-index: 30;
                        display: none;
                        height: calc(100vh - 55px);
                      }

                      .pdf-viewer {
                        position: absolute;
                        top: 60px;
                        left: 30px;
                        right: 30px;
                        width: calc(100% - 60px);
                        height: calc(100% - 90px);
                        bottom: 30px;
                        border: none;
                      }

                      a.window-close {
                        padding: 0.55rem;
                        width: 11rem;
                        font-size: 1.3rem;
                        font-weight: 100;
                        line-height: 1;
                        color: #333;
                        background-color: #fff;
                        border-radius: 4rem;
                        text-align: center;
                        cursor: pointer;
                        text-decoration: none;
                        display: inline-block;
                        margin: 20px 0 0 30px;
                      }

                      a.window-close:hover {
                        color: #333;
                        text-decoration: none;
                      }
                    </style>

                    <div id="pdf-blanket" class="pdf-view" onclick="javascript:void(closePDF());">
                      <a class="window-close" href="javascript:void(closePDF());">Close</a>
                      <iframe id="pdf-frame" class="pdf-viewer"></iframe>
                    </div>

                    <!-- PDF -->
                    <script>
                      function togglePDF(el) {
                        landingPageEl.getElementById('pdf-frame').src = el.getAttribute('pdf');
                        landingPageEl.getElementById('pdf-blanket').style.display = 'block';
                        landingPageEl.querySelector('#pdf-blanket .window-close').scrollIntoView({block: "end", inline: "nearest"});
                      }

                      function closePDF() {
                        landingPageEl.getElementById('pdf-frame').src = '';
                        landingPageEl.getElementById('pdf-blanket').style.display = 'none';
                      }
                    </script>
                  </pdf-viewer>

                  <video-viewer>
                    <style>
                      .modal-window {
                        position: fixed;
                        background-color: rgba(0, 0, 0, 0.5);
                        top: 0;
                        right: 0;
                        bottom: 0;
                        left: 0;
                        opacity: 0;
                        pointer-events: none;
                        -webkit-transition: all 0.7s;
                        -moz-transition: all 0.7s;
                        transition: all 0.7s;
                        display: none;
                      }

                      .modal-window.open {
                        opacity: 1;
                        pointer-events: auto;
                        display: inline-block;
                        z-index: 99999999;
                        padding: 5%;
                      }

                      .modal-window .contentWrapper {
                        display: flex;
                        justify-content: center;
                        width: 100%;
                        margin-top: 20px;
                      }

                      .videoWrapper {
                        position: relative;
                        padding-bottom: 56.5%;
                        /* 16:9 */
                        height: 0;
                      }

                      .videoWrapper iframe {
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                      }


                      .modal-window .modal-box {
                        position: relative;
                        min-width: 400px;
                        width: 80%;
                        margin: 20px auto;
                        padding: 2rem 0;
                        background-color: transparent;
                        border: none;
                      }

                      .modal-window h1 {
                        font-size: 150%;
                        margin: 0 0 15px;
                      }

                      .modal-window header {
                        font-weight: bold;
                      }

                      .modal-close {
                        position: absolute;
                        right: 3%;
                        top: -11px;
                        color: #fff;
                        font-size: 1.5em;
                        text-decoration: none;
                        font-weight: bold;
                      }

                      .modal-close:hover {
                        filter: brightness(130%);
                        text-decoration: none;
                        color: #fff;
                        cursor: pointer;
                      }

                      .modal-grid {
                        display: grid;
                        grid-template-columns: 0.6fr 1.4fr;
                        grid-template-rows: 1fr;
                        gap: 0px 20px;
                        padding: 2%;
                        color: white;
                        font-family: "gothamBook", Helvetica, Arial, sans-serif;
                        background-color: #5378A7;
                      }

                      .modal-grid-video {
                        display: grid;
                        grid-template-columns: 1fr;
                        grid-template-rows: 1fr;
                        gap: 0 0;
                        color: white;
                        font-family: "gothamBook", Helvetica, Arial, sans-serif;
                        background-color: #5378A7;
                      }
                    </style>

                    <template id="modalWindow">
                      <div class="modal-grid">
                      </div>
                    </template>

                    <template id="videoFrame">
                      <iframe src="/embed/" frameborder="0" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true">
                      </iframe>
                    </template>

                    <script>
                      function toggleModalVideo(el) {
                        const id = el.getAttribute('video');
                        const contentWrapper = landingPageEl.querySelector('.contentWrapper');
                        contentWrapper.classList.toggle('videoWrapper');
                        let video = contentWrapper.querySelector('#video-frame');
                        const modalClose = landingPageEl.querySelector('.modal-close');

                        modalClose.addEventListener('click', function () {
                          toggleModalVideo(el);
                        });

                        if (video) {
                          video.remove();
                          landingPageEl.querySelector('#open-modal').classList.toggle('open');
                          return;
                        }

                        const temp = landingPageEl.querySelector('template#videoFrame');
                        const clone = temp.content.cloneNode(true);
                        video = clone.querySelector('iframe');
                        video.id = 'video-frame';
                        video.src = '/embed/' + id;
                        contentWrapper.appendChild(clone);
                        const modal = landingPageEl.querySelector('#open-modal');
                        setModalPosition(modal);
                        modal.classList.toggle('open');
                      }

                      function setModalPosition(el) {
                        el.style.left = document.querySelector('videos-sidebar').offsetWidth + "px";
                      }

                    </script>

                  </video-viewer>

                  <div class="content">

                    <div class="top-banner">
                      <h1>Sponsor Library</h1>
                      <hr align="left">
                    </div>

                    <div class="grid"></div>

                    <template id="library-card">
                      <div class="card" video id>
                        <div class="category"></div>
                        <img src>
                        <div class="title"></div>
                        <div class="description"></div>
                        <div id class="download"></div>
                      </div>
                    </template>


                    <div id="open-modal" class="modal-window">
                      <div class="modal-box">
                        <div title="Close" class="modal-close">Close</div>
                        <div class="contentWrapper"></div>
                      </div>
                    </div>

                  </div>


                  <display-library-list>
                    <script>

                      function getLibraryList() {
                        let list = [
                          {
                            id: 1,
                            title: "Surgical Mortality as a Measure of Hospital Quality",
                            category: "Other, Quality Measures",
                            desc: "While there is increasing consensus that comparative mortality data should be included in hospital payment incentive systems, attempts to develop clinically credible and unbiased measure of mortality have proved challenging. The primary intent of mortality measurement is to provide hospitals the incentive and the information to improve mortality performance through quality improvement initiatives. To be effective for quality improvement, the measure of mortality should be limited to patients for whom a hospital is reasonably responsible for the patient outcome and thereby amenable to quality improvement efforts.",
                            action: "View PDF",
                            thumb: "Surgical Mortality as a Measure of Hospital Quality.PNG",
                            link: "CER-report-Surgical-mortality-9-22-20-Final.pdf"
                          },
                          {
                            id: 2,
                            title: "Innovative Strategies for Finding and Engaging the Hardest to Reach MassHealth Members",
                            category: "Other, Member Engagement",
                            desc: "The inaugural MassHealth DSRIP Statewide Investments Pop Up event highlighted strategies for finding and engaging those individuals who are typically considered the hardest to reach. Panelists from Staten Island, NY, Contra Costa, CA, and the frontier communities of northern Minnesota traveled to Boston to share the successes and challenges of their work in this area. This events summary shares lessons from these states that could be applied by ACOs and Community Partners in Massachusetts.",
                            action: "View PDF",
                            thumb: "Innovative Strategies for Finding and Engaging the Hardest to Reach MassHealth Members.PNG",
                            link: "SWI Member Engagement Event-Summary.pdf"
                          },
                          {
                            id: 3,
                            title: "AHIP Brief: Health Insurance Providers Are Innovating to Address Socioeconomic Needs during COVID-19 and Beyond",
                            category: "COVID-19, Social Determinants of Health (SDOH), TeleHealth",
                            desc: "COVID-19 has impacted Americans across the nation and worsened socioeconomic conditions for millions.  With Americans isolated in their homes and over 40 million recently unemployed, the need to address food insecurity, housing instability, and social isolation is greater than ever.  Just as they face increasing demand caused by COVID-19, the community-based organizations with whom health insurance plans partner are also experiencing challenges, such as closures, reduced hours due to lack of staff or volunteers, revised processes to accommodate social distancing, and reduced resources.  ",
                            action: "View PDF",
                            thumb: "ahip_brief_health_insurance_providers.PNG",
                            link: "AHIP_SDOH & COVID-19.pdf"
                          },
                          {
                            id: 4,
                            title: "Caring Forward: Paving the Way Toward Streamlined Social Services ",
                            category: "Other, Emerging Issues in Program Integrity",
                            desc: "State governments are transforming social services by on-boarding technologies that streamline the eligibility determination process. Read this report featuring interviews with top state health leaders to learn more about the challenges they face, lessons learned and best practices to optimize the delivery of public assistance programs such as Medicaid, SNAP, TANF, Child Support. ",
                            action: "View PDF",
                            thumb: "Caring Forward Paving the Way Toward Streamlined Social Services.PNG",
                            link: "Verification Services - Paving the way streamline social services - Thought leadership paper - Government.PDF"
                          },
                          {
                            id: 5,
                            title: "Quality Improvement & Member Engagement: A Medicaid Success Story  ",
                            category: "COVID-19",
                            desc: "State Medicaid systems are under stress from rising costs due to COVID-19 and increased pressure to meet the needs of stakeholders. Member engagement and quality improvement programs that are sponsored at a state level and designed to improve health outcomes, increase compliance, and lower medical spend can help. Through inclusion in a Section 1115 demonstration waiver, states can garner federal match funding for these programs and use the savings to offset budget shortfalls. This whitepaper describes the results of one such program that saved over $200 million in six years and describes best practices for state Medicaid engagement programs nationwide. ",
                            action: "View PDF",
                            thumb: "Quality Improvement & Member Engagement A Medicaid Success Story.PNG",
                            link: "2020NAMD_Finity_MemberEngagement_WhitePaper_20201019_27_fullres.pdf"
                          },
                          {
                            id: 6,
                            title: "Gainwell Technologies Fact Sheet",
                            category: "Other",
                            desc: "Infographic that provides an overview of our new company, who we are, what services we provide, etc.",
                            action: "View PDF",
                            thumb: "Gainwell Technologies Fact Sheet.PNG",
                            link: "Gainwell Fact Sheet.pdf"
                          },
                          {
                            id: 7,
                            title: "Meet MAT ",
                            category: "Other",
                            desc: "To help provide patients with more transparency about medicine costs, PhRMA member companies created the Medicine Assistance Tool, or MAT. The platform provides patients, caregivers and health care providers with information to help them connect to financial assistance programs for the medicines patients need. MAT also links to member company websites, referenced in company direct-to-consumer television advertising, where information about the cost of the prescription medicine is available. ",
                            action: "View PDF",
                            thumb: "Meet MAT.PNG",
                            link: "PhRMA_MAT_MeetMAT_OnePager_FINAL_English (1).pdf"
                          },
                          {
                            id: 8,
                            title: "Covid-19 Vaccine Research And Development",
                            category: "COVID-19",
                            desc: "As the COVID-19 pandemic continues to impact patients worldwide, America’s biopharmaceutical research companies are working around the clock with stakeholders across the research and development (R&D) ecosystem to advance vaccine candidates that will help prevent infection and stop the spread of the virus. In a matter of months, incredible progress has been made. The private sector has moved more than two dozen unique vaccines from initial R&D into preclinical testing and clinical trials. ",
                            action: "View PDF",
                            thumb: "Covid-19 Vaccine Research And Development.PNG",
                            link: "PhRMA_COVID-19 RD_Vaccines_FINAL (1).pdf"
                          },
                          {
                            id: 9,
                            title: "Medicaid & Medicaid Managed Care: Financing Approaches for Medical Respite Care",
                            category: "Emerging Issues in Program Integrity",
                            desc: "This policy brief describes medical respite care programs, outlines the gaps in the continuum of care and funding sources for these care venues, and offers the rationale for investing in Medical Respite Care programs",
                            action: "View PDF",
                            thumb: "Medicaid & Medicaid Managed Care Financing Approaches for Medical Respite Care.PNG",
                            link: "CST31220_IP20_NAMD_Resource_WP_MedicalRespite_r2.pdf"
                          },
                          {
                            id: 10,
                            title: "Telehealth and Teledentistry for MassHealth ACOs and CPs",
                            category: "Other, TeleHealth",
                            desc: "Telehealth presents innovative opportunities for MassHealth Accountable Care Organizations (ACOs) and Community Partners (CPs) to better serve beneficiaries. These opportunities include increasing access to oral health and dental services and supporting medical-dental integration initiatives.",
                            action: "View PDF",
                            thumb: "Telehealth and Teledentistry for MassHealth ACOs and CPs.PNG",
                            link: "TeleHealth-Dentistry-FAQ-Factsheet (1).pdf"
                          },
                          {
                            id: 11,
                            title: "AHIP Research: The Value of Medicaid Managed Care: Innovating in Medicaid",
                            category: "Other, Medicaid Managed Care",
                            desc: "Medicaid is the largest health care program in the country, covering about 1 in 5 Americans – including millions of children, older adults, people with disabilities, and veterans. Two-thirds of Americans enrolled in Medicaid are served in Medicaid managed care programs, a public-private partnership between federal and state governments and managed care plans. Medicaid managed care plans are increasingly working with states to improve care delivery through innovative programs. What kinds of innovations are Medicaid managed care plans using to deliver high-value, affordable care to enrollees? AHIP turned to experts at The Menges Group to help us find out. ",
                            action: "View PDF",
                            thumb: "AHIP Research The Value of Medicaid Managed Care improving.PNG",
                            link: "AHIP Report_MMC & Innovation.pdf"
                          },
                          {
                            id: 12,
                            title: "Improving Program Integrity with Automated Verifications Infographic",
                            category: "Program Integrity Partnerships",
                            desc: "Government agencies with beneficiary-centric missions face a constant challenge: How do they balance providing benefits and payments promptly to help those in need of assistance while simultaneously guarding against improper payments? Check out this infographic for some best practices.",
                            action: "View PDF",
                            thumb: "Improving Program Integrity with Automated Verifications Infographic.PNG",
                            link: "Verification Services - Infographic - Improving Program Integrity - Government (1) (1).PDF"
                          },
                          {
                            id: 13,
                            title: "The Rise of Advanced Analytics in Medicaid",
                            category: "Other, Data Analytics",
                            desc: "Today ‘s state healthcare systems must meet several key challenges — delivering operational improvements, enhancing health policies and program outcomes, and administering managed care organizations (MCOs). State healthcare organizations need to be data-driven, capable of handling the ever-increasing volume and variety of healthcare data and delivering insights to drive business outcomes.These healthcare challenges call for advanced analytics. Building an effective analytics strategy requires two critical things: deep technical knowledge and proven experience working with Medicaid systems and initiatives. ",
                            action: "View PDF",
                            thumb: "The Rise of Advanced Analytics in Medicaid.PNG",
                            link: "The-Rise-of-Advanced-Analytics-in-Medicaid.pdf"
                          },
                          {
                            id: 14,
                            title: "The Biopharmaceutical Industry’S Unique Role In Responding To Covid-19",
                            category: "COVID-19",
                            desc: "As the outbreak of COVID-19 – a disease caused by a novel strain of coronavirus – evolves in the United States and around the globe, the biopharmaceutical industry is working around the clock to find solutions. America’s biopharmaceutical companies are working tirelessly to develop ways to diagnose, prevent and treat those with coronavirus. These companies are also donating medical supplies, personal protective equipment, existing treatments and medicines, and are providing monetary support to front line response teams. ",
                            action: "View PDF",
                            thumb: "The Biopharmaceutical Industry’S Unique Role In Responding To Covid-19.PNG",
                            link: "The Biopharmaceutical Industrys Unique Role in Responding To COVID-19_3 (1).pdf"
                          },
                          {
                            id: 15,
                            title: "Medicaid: As Seen Through the Eyes of Beneficiaries",
                            category: "Emerging Issues in Program Integrity",
                            desc: "This report highlights findings from extensive consumer research with individuals across the country who are eligible for Medicaid or enrolled in Medicaid.",
                            action: "View PDF",
                            thumb: "Medicaid As Seen Through the Eyes of Beneficiaries.PNG",
                            link: "CST31220_IP20_NAMD_Resource_WP_ThroughTheirEyes_r2.pdf"
                          },
                          {
                            id: 16,
                            title: "Using Telehealth to Serve Medicaid Beneficiaries with Complex Health Needs",
                            category: "",
                            desc: "The inaugural MassHealth DSRIP Statewide Investments Pop Up event highlighted strategies for finding and engaging those individuals who are typically considered the hardest to reach. Panelists from Staten Island, NY, Contra Costa, CA, and the frontier communities of northern Minnesota traveled to Boston to share the successes and challenges of their work in this area. This events summary shares lessons from these states that could be applied by ACOs and Community Partners in Massachusetts. ",
                            action: "View PDF",
                            thumb: "Using Telehealth to Serve Medicaid Beneficiaries with Complex Health Needs.PNG",
                            link: "telehealth-and-medicaid-beneficiaries-with-complex-health-needs-fv.pdf"
                          },
                          {
                            id: 17,
                            title: "The Vaccine Life Cycle : Safety At Every Phase",
                            category: "COVID-19",
                            desc: "The Vaccine Life Cycle ",
                            action: "View PDF",
                            thumb: "The Vaccine Life Cycle  Safety At Every Phase.PNG",
                            link: "PhRMA Vaccine Safety Timeline_FINAL (1).pdf"
                          },
                          {
                            id: 18,
                            title: "Social Determinants of Health: Addressing Barriers Through Screening, Referrals, and Care Coordination",
                            category: "Emerging Issues in Program Integrity, Social Determinants of Health (SDOH)",
                            desc: "Given the known impacts of social, behavioral, and economic factors on health and longevity, health policy reforms are being developed and deployed at both the state and federal levels that support the integration and alignment of health care and social services.",
                            action: "View PDF",
                            thumb: "Social Determinants of Health Addressing Barriers Through Screening, Referrals, and Care Coordination.PNG",
                            link: "NC Med Journal SDOH Article_SDOH_Sept 2019.pdf"
                          },
                          {
                            id: 19,
                            title: "AHIP Statistics: Telehealth Growth During COVID-19",
                            category: "TeleHealth",
                            desc: "Telehealth has exploded during the COVID-19 crisis, building upon the incremental growth that has been occurring in recent years. Digital technologies have become more accepted by both consumers and providers and telehealth appears to be fulfilling its promise as a significant part of the health care system. Many policy changes have been made during the COVID-19 crisis to significantly expand the use of virtual care. If these changes go away, telehealth may be rolled back rather than becoming a sustained and transformational approach to patient care.",
                            action: "View PDF",
                            thumb: "AHIP Statistics Telehealth Growth During COVID-19.PNG",
                            link: "AHIP Infographic_COVID-19 & Telehealth.pdf"
                          },
                          {
                            id: 20,
                            title: "AHIP Research: The Value of Medicaid Managed Care: Improving the Quality of Care in Medicaid",
                            category: "Medicaid Managed Care, Quality",
                            desc: "Two-thirds of Americans enrolled in Medicaid are served by Medicaid managed care, a public-private partnership between federal and state governments and managed care plans. Medicaid managed care plans work closely with states to improve care quality.",
                            action: "View PDF",
                            thumb: "AHIP Research The Value of Medicaid Managed Care improving.PNG",
                            link: "AHIP Research_MMC & Quality of Care.pdf"
                          },
                          {
                            id: 21,
                            title: "AHIP Issue Brief: Achieving State Medicaid Goals through Managed Care",
                            category: "Medicaid Managed Care, Quality",
                            desc: "Medicaid managed care (MMC) has become an increasingly appealing option for states looking to improve beneficiary outcomes while controlling costs over time. There is growing evidence of its effectiveness in demonstrating value and addressing the challenges states face in caring for more complex populations. These and other advantages have led to steady growth in MMC over the past two decades. Today, over two-thirds of Medicaid beneficiaries are enrolled in MMC.",
                            action: "View PDF",
                            thumb: "AHIP Issue Brief Achieving State Medicaid Goals.PNG",
                            link: "AHIP Issue Brief_StateMedicaidGoals.pdf"
                          },
                          {
                            id: 22,
                            title: "NACDS Poll Results - Flu Vaccination",
                            category: "COVID-19, Public Health",
                            desc: "Results of a 2020 Poll on Flu Vaccinations",
                            action: "View PDF",
                            thumb: "NACDS Poll Results - Flu Vaccination.PNG",
                            link: "NACDS-FluPoll2020.pdf"
                          },
                          {
                            id: 23,
                            title: "Your Flu Shot, Your Pharmacist",
                            category: "Public Health",
                            desc: "NACDS FLU PSA",
                            action: "View Video",
                            thumb: "video-icon.png",
                            link: "bfe26c72-2413-4572-9c3d-d737befb3d05"
                          },
                          {
                            id: 24,
                            title: "Tu Vacuna Antigripal, Tu Farmacéutico",
                            category: "Public Health",
                            desc: "NACDS FLU PSA - Spanish",
                            action: "View Video",
                            thumb: "video-icon.png",
                            link: "80ec5764-dca0-4e00-a789-da5ec27fb9fb"
                          }

                        ];

                        list = list.sort(function (a, b) {
                          if (a.title.toLowerCase() > b.title.toLowerCase()) {
                            return 1;
                          }
                          if (a.title.toLowerCase() < b.title.toLowerCase()) {
                            return -1;
                          }
                          return 0;
                        });
                        return list;
                      }

                      function buildLibrary() {

                        const list = getLibraryList();
                        // filter out users who have opted out of sharing their data
                        const container = landingPageEl.querySelector('.grid');
                        const template = landingPageEl.querySelector('template#library-card');

                        list.forEach(item => {
                          const clone = template.content.cloneNode(true);
                          buildCard(item, clone);
                          container.appendChild(clone);
                        });

                      }

                      function buildCard(item, clone) {
                        const baseUrl = 'https://nextech-booths.s3-us-west-2.amazonaws.com/infernoar/namd/';
                        const card = clone.querySelector('.card');
                        const image = card.querySelector('img');
                        const imageSrc = item.thumb ?? 'doc-icon.png';
                        image.src = baseUrl + imageSrc;

                        card.querySelector('.title').innerHTML = item.title ?? '';
                        card.querySelector('.category').innerHTML = item.category ?? '';
                        card.querySelector('.description').innerHTML = item.desc ?? '';
                        card.querySelector('.download').innerHTML = item.action ?? '';
                        const button = card.querySelector('.download');
                        button.id = 'State_only_library_Click_' + item.title.replaceAll(' ', '_');

                        if (item.action.toLowerCase().includes('video')) {
                          button.setAttribute('video', item.link);
                          button.onclick = function () {
                            toggleModalVideo(this);
                          }
                        } else if (item.action.toLowerCase().includes('pdf')) {
                          button.setAttribute('pdf', baseUrl + item.link);
                          button.onclick = function () {
                            togglePDF(this);
                          }
                        } else {
                          console.log('unknown Library action');
                        }

                      }

                      if (window.isLocalTemplate) {
                        window.addEventListener('load', (event) => {
                          buildLibrary();
                        });
                      } else {
                        buildLibrary();
                      }


                    </script>
                  </display-library-list>

</inferno-snippet-content>
              <!--  SNIPPET CONTENT END  -->
              <!-- ********************* -->
              <!-- ********************* -->
              <!-- ********************* -->
            </div>
          </landing-page>
        </div>
      </section>
      <!-- LANDING -->
      <!-- FOOTER -->
      <footer app-footer layout="row" layout-align="start center">
        Inferno Footer
      </footer>
      <!-- ./ FOOTER -->
    </div>
  </videos-layout>
</app-root>




<script>

  // LIQUID PROCESSING (Set the data variable above)
  function processLiquid() {
    return new Promise((resolve, reject) => {
      console.log('PROCESSING LIQUID')
      // We rip the entire content of the inferno-snippet-content element. InnerHTML returns certain characters such as < and > escaped.
      // This breaks comparison operators, so we need to convert them back before Liquid processing.
      const template = landingPageEl.querySelector('inferno-snippet-content').innerHTML.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&amp;/g, '&')
      // Select the element itself to replace the content
      const result = landingPageEl.querySelector('inferno-snippet-content')
      // Initialize the parsing engine
      const engine = new liquidjs.Liquid()
      // Parse and render
      engine.parseAndRender(template, {data}).then(html => result.innerHTML = html)
      resolve()
    })

  }

  // Set the menu initial state here: 'expanded', 'collapsed', or 'hidden'.
  function mtCollapseMenu() {
    const appRoot = document.querySelector('app-root')
    const sideBar = document.querySelector('videos-sidebar')
    window.sessionStorage.setItem('menuState', 'collapsed')
    appRoot.classList.add('aside-collapsed')
    appRoot.classList.remove('aside-hidden')
    sideBar.classList.remove('hidden')
  }

  function mtHideMenu() {
    const appRoot = document.querySelector('app-root')
    const sideBar = document.querySelector('videos-sidebar')
    window.sessionStorage.setItem('menuState', 'hidden')
    appRoot.classList.remove('aside-collapsed')
    appRoot.classList.add('aside-hidden')
    sideBar.classList.add('hidden')
  }

  function mtExpandMenu() {
    const appRoot = document.querySelector('app-root')
    const sideBar = document.querySelector('videos-sidebar')
    window.sessionStorage.setItem('menuState', 'expanded')
    appRoot.classList.remove('aside-hidden')
    appRoot.classList.remove('aside-collapsed')
    sideBar.classList.remove('hidden')
  }

  function mtTriggerMenu() {
    const appRoot = document.querySelector('app-root')
    const sideBar = document.querySelector('videos-sidebar')
    if (!appRoot.classList.contains('aside-collapsed') && !appRoot.classList.contains('aside-hidden')) {
      mtCollapseMenu()
    } else if (appRoot.classList.contains('aside-collapsed') && !appRoot.classList.contains('aside-hidden')) {
      mtHideMenu()
    } else if (appRoot.classList.contains('aside-hidden')) {
      mtExpandMenu()
    }
  }

  function mtInitMenu() {
    const appRoot = document.querySelector('app-root')
    const sideBar = document.querySelector('videos-sidebar')
    const state = sessionStorage.getItem('menuState')

    if (state === 'collapsed') {
      mtCollapseMenu()
    } else if (state === 'hidden') {
      mtHideMenu()
    } else if (state === 'expanded') {
      mtExpandMenu()
    }
  }

  function populateInfernoElements() {
    const qaDiv = landingPageEl.querySelector('#inferno-questions-basic')
    const videoDiv = landingPageEl.querySelector('#inferno-video-player')
    if (qaDiv) {
      $(qaDiv).append(`
      <questions _nghost-qch-c20="">
        <div class="ng-untouched ng-pristine ng-valid ng-star-inserted">
          <div class="inferno-input-group">
            <span class="inferno-input-group-addon">Ask A Question</span>
            <input class="inferno-form-control ng-untouched ng-pristine ng-valid" type="text">
            <span class="inferno-input-group-btn">
              <button class="inferno-btn" type="button">Submit</button>
            </span>
          </div>
        </div>
      </questions>
      `)
    }
    if (videoDiv) {
      $(videoDiv).append(`
        <iframe src="https://jolokia.inferno.jolokia.com/embed/ecd7f4ad-2c0a-4f3f-bfd6-37670cc2edbd"
          width="640"
          height="360"
          frameborder="0"
          allowfullscreen">
        </iframe>
        `)
    }
  }

  // Wait for liquid processing before handling the rest
  if (data) {
    processLiquid().then(mtInitMenu).then(populateInfernoElements)
  } else {
    mtInitMenu()
    populateInfernoElements()
  }

</script>



</body><!-- Menu Collapse Script -->
