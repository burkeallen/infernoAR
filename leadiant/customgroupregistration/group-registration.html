<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Inferno Snippet Mockup Template</title>
  <!-- Import Roboto -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic|Roboto+Mono:400,500|Material+Icons" rel="stylesheet">
  <!-- Import Inferno's Styles -->
  <link rel="stylesheet" href="https://studio304nextechar.freetls.fastly.net/infernoAR/_templates/css/inferno-base-styles.css">
  <link rel="stylesheet" href="https://studio304nextechar.freetls.fastly.net/infernoAR/_templates/css/inferno-extra-styles.css">
  <!--  Local/Client Color Overrides if they file exists -->
  <link rel="stylesheet" href="../inferno-client.css">
  <!-- Import JQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
</head>

<body>
<!-- ********************* -->
<!-- ********************* -->
<!-- ********************* -->
<!-- SNIPPET CONTENT START -->
<inferno-snippet-content id="f93b0e8a-f194-4d9f-812b-feba966938dc">

  <!-- Click Track Landing v2.0 -->
  <div
    id="xtrackx|2|non_booth|registration|page_load"
    class="page_load"
  ></div>
  <script>
    setTimeout(() => {
      var event = document.createEvent("MouseEvents");
      event.initEvent("mouseup", true, true);
      landingPageEl
        .querySelector(".page_load")
        .dispatchEvent(event);
    }, 250);
  </script>
  <!-- ./ Click Track Landing v2.0 -->

  <!--  Load custom fonts -->
  <script type="text/javascript">
    function loadCustomFont(fontName, url) {
      console.log("Loading " + fontName);
      var customFont = new FontFace(fontName, "url(" + url + ")");
      customFont
        .load()
        .then(function (loadedFont) {
          document.fonts.add(loadedFont);
        })
        .catch(function (error) {
          console.log("Error loading " + fontName);
        });
    }

    fontUrlBase = "https://inferno-event-assets.s3-us-west-2.amazonaws.com/leadiant/fonts/";
    loadCustomFont('GothamBold', fontUrlBase + 'GothamBold.ttf');
    loadCustomFont('GothamMed', fontUrlBase + 'GothamMedium.ttf');
    loadCustomFont('FuturaMed', fontUrlBase + 'Futura+Medium.otf');

  </script>

  <!-- content -->
  <style>
    img::after {
      content: none;
    }

    *, :after, :before {
      box-sizing: border-box;
    }

    h1, h2, h3, h4, h5 {
    }

    .content {
      min-height: 100vh;
      background-image: url(https://inferno-event-assets.s3-us-west-2.amazonaws.com/leadiant/login/login-background.jpg);
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-size: cover;
      background-position: center;
      overflow: hidden;
    }

    .main {
      height: 100%;
      width: 100%;
      display: flex;
      flex-wrap: wrap;
      justify-content: flex-start;
    }

    .logo-wrapper {
      width: 50%;
      padding: 60px 40px 0 0;
    }

    .logo-container {
      display: flex;
      flex-flow: column;
    }

    .logo-container img {
      width: 100%;
      padding-left: 150px;
      padding-bottom: 30px;
    }

    .rectangle {
      height: 80px;
      width: 100%;
      border-radius: 0 14px 14px 0;
      background: linear-gradient(90deg, rgba(0, 100, 154, 1) 35%, rgba(0, 189, 231, 1) 100%);
    }

    .event-info {
      color: #000000;
      font-size: 3.75rem;
      text-align: right;
      font-family: "GothamMed";
    }

    .form-wrapper {
      width: 50%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 100, 154, .81);
      padding: 80px 40px 0;
    }

  </style>

  <!-- form -->
  <style>
    .form-title {
      color: #fff;
      font-size: 5.2vmin;
      font-family: "GothamBold";
    }

    /* will get injected by inferno if errors */
    .form-error-container {
      width: 100%;
      background-color: #242424ea;
      position: absolute;
      bottom: 0;
      left: 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .form-error-container p,
    .form-error-container li {
      padding: 8px;
      color: var(--branding-warning);
    }

    .form-card {
      padding: 0 10%;
    }

    .field-warning {
      color: #fff;
    }

    form input, form select, form button {
      width: 100%;
      font-size: 1.2em;
      line-height: 2em;
      color: black;

      height: 50px;
      color: #777;
      font-family: "CenturyGothic", sans-serif;
      font-size: 1.4em;
      padding: 0.2em 10px;
      border: none;
      outline: none;
      border: 1px solid #707070;
      box-sizing: border-box;
      margin-bottom: 2.5rem;
    }


    input::placeholder {
      color: #696969;
    }

    form button {
      background-color: #00BDE7;
      border: solid 1px var(--branding-primary);
      font-size: 1.25em;
      color: white;
    }

    form button:hover {
      filter: brightness(110%);
    }

    .field div {
      text-align: left;
    }
  </style>

  <!-- Media Queries -->
  <style>
    @media only screen and (max-width: 1080px) {
      .contents {
        background-position: bottom;
      }

      .main {
        width: 100%;
        justify-content: center;
      }

      .logo-wrapper {
        padding-top: 40px;
      }

      .logo-container img {
        width: 100%;
        padding-bottom: 20px;
      }

      .event-info {
        font-size: 2.75rem;
      }

      .form-wrapper {
        padding: 30px 0 0 0;
      }

      form {
        padding: 0 3rem;
      }

      form input {
        margin-bottom: 1.5rem;
      }

      .form-wrapper {
        align-items: center;
      }

      .subtitle {
        font-size: 3vmin
      }

      .content {
        background-position: bottom;
      }

    }

    @media only screen and (max-width: 768px) {

      .content {
        overflow: auto;
      }

      .form-wrapper {
        width: 100%;
        align-items: center;
      }

      .logo-container {
        align-items: center;
      }

      .logo-wrapper {
        width: 100%;
        padding: 20px 0 40px 0;
        align-items: center;
      }

      .logo-container img {
        width: 60%;
        padding-left: 0px;
      }

      .event-info {
        font-size: 2.75rem;
      }

      .rectangle {
        border-radius: 0;
      }

      form {
        margin-left: 0rem;
      }

      form input {
        margin-bottom: 3rem;
      }
    }

    @media only screen and (max-width: 500px) {
      .form-wrapper {
        padding: 0;
      }

      .event-info {
        font-size: 2rem;
      }
    }

  </style>

  <div class="content">

    <div class="main">
      <div class="logo-wrapper">
        <div class="logo-container">
          <img src="https://inferno-event-assets.s3-us-west-2.amazonaws.com/leadiant/login/leadiant-logo.png">
          <div class="event-info">Cystaran Eye Health Event</div>
          <div class="event-info">April 22 at 6:30pm EST</div>
          <div class="event-info">April 29 at 6:30pm PST</div>
        </div>
        <div class="rectangle"></div>
      </div>

      <div class="form-wrapper">
        <div class="form-card">
          <form>
            <div class="form-title">Registration</div>
            <div class="field" id="field-firstname">
              <div><span class="field-warning"></span></div>
              <input type="text" class="field-input" placeholder="First Name" name="firstName"/>
            </div>

            <div class="field" id="field-lastname">
              <div><span class="field-warning"></span></div>
              <input type="text" class="field-input" placeholder="Last Name" name="lastName"/>
            </div>

            <div class="field" id="field-email">
              <div><span class="field-warning"></span></div>
              <input type="text" class="field-input" placeholder="Email Address" name="email"/>
            </div>

            <div class="field" id="field-password">
              <div><span class="field-warning"></span></div>
              <input type="password" class="field-input" placeholder="New Password" name="password"/>
            </div>

            <div class="field" id="field-password2">
              <div><span class="field-warning"></span></div>
              <input type="password" class="field-input" placeholder="Confirm Password" name="password2"/>
            </div>

            <div class="field" id="field-npi">
              <div><span class="field-warning"></span></div>
              <input type="text" class="field-input" placeholder="NPI" name="userData1Name"/>
            </div>

            <div class="field" id="field-specialty">
              <div class="field-warning"></div>
              <div class="select-field">
                <select class="field-input" name="userData2Name">
                  <option selected="selected" value>Specialty</option>
                  <option value="Ophthalmologist / pediatric ophthalmologist">Ophthalmologist / pediatric ophthalmologist</option>
                  <option value="Nephrologist / pediatric ophthalmologist">Nephrologist / pediatric ophthalmologist</option>
                  <option value="Pediatrician">Pediatrician</option>
                  <option value="Endocrinologist / pediatric endocrinologist">Endocrinologist / pediatric endocrinologist</option>
                  <option value="Consumer Goods">Geneticist</option>
                  <option value="Other">Other</option>
                </select>
              </div>
            </div>

            <div class="field" id="field-affiliation-practice">
              <div><span class="field-warning"></span></div>
              <input type="text" class="field-input" placeholder="Hospital affiliation or name of practice" name="userData3Name"/>
            </div>

            <div class="field" id="field-zip">
              <div><span class="field-warning"></span></div>
              <input type="text" class="field-input" placeholder="Zip" name="userData4Name"/>
            </div>

            <div>
              <button type="button" id="validate-btn">Submit</button>
              <button type="button" class="hidden" id="submit-btn"></button>
            </div>

          </form>
        </div>
      </div>

    </div>
  </div>

  <!-- Init LandingElement -->
  <script type="text/javascript">
    // Check if landingPageEl is supplied
    var landingElement;
    if ('landingPageEl' in window) {
      landingElement = landingPageEl;
    } else {
      landingElement = document;
    }
  </script>

  <!-- Setup Validation for Specific Fields -->
  <script type="text/javascript">
    // ** DEFINE VALIDATION HERE **
    // FIELDS:
    // validationFields (array): Define one object per field with the following properties.
    // (Note that Selectors must be complete with . or # prefixes)
    //
    // - fieldSelector (string): Required selector for input field (input or checkbox)
    // - warningClass (string): Required classname will be added to the field, the warningElSelector,
    //                          and the warningGroupSelector when an error is found.
    // - warningTextSelector (string): Required selector for element to insert error text
    // - warningElSelector (string): Optional element to additionally apply warningClass
    // - warningGroupSelector (string): Optional element to apply to a container if any one error is found.
    //
    // - validation (string): Optional special validation functions (currently: email, pass or phone)
    // - required (bool): Optional field required not empty, (or must be checked if field is a checkbox)
    // - minimumCharacters (int or null): Minimum # of chars, omit or null for no minimum
    // - maximumCharacters (int or null): Maximum # of chars, omit or null for no maximum
    // - matchField (string): Optionally specify another input field which this field must match.
    // - displayName (string): Optional display name of field error (useful for grouped errors)
    //
    // CONFIG:
    // Define a button which - when clicked - runs validation on all fields, and fires an
    // event on any fields invalid or all fields valid.
    //
    // - validationButtonSelector (string): The button (or any element)
    // - buttonActionOnValid (function): A function to run when valid
    // - buttonActionOnInvalid (function): A function to run when invalid
    //
    // (Note: if using the validateShake function, ensure to include the required styles )
    //
    // MULTIPLE FORMS:
    // Call validatorInitialize on page load with a separate config object and fields array
    // for each set of fields requiring validation as a group.

    var validationConfig = {
      validateButtonSelector: '#validate-btn',
      buttonActionOnValid: () =>
        landingElement.querySelector('#submit-btn').dispatchEvent(new Event('click')),
      buttonActionOnInvalid: () => validateShake('.is-invalid'),
    };

    var validationFields = [
      {
        fieldSelector: '#field-firstname input',
        warningTextSelector: '#field-firstname .field-warning',
        warningClass: 'is-invalid',
        required: true,
        minimumCharacters: 2,
      },
      {
        fieldSelector: '#field-lastname input',
        warningTextSelector: '#field-lastname .field-warning',
        warningClass: 'is-invalid',
        required: true,
        minimumCharacters: 2,
      },
      {
        fieldSelector: '#field-email input',
        warningTextSelector: '#field-email .field-warning',
        warningClass: 'is-invalid',
        required: true,
        validation: 'email',
      },
      {
        fieldSelector: "#field-password > input",
        warningTextSelector: "#field-password .field-warning",
        warningClass: "is-invalid",
        required: true,
        validation: "pass",
        minimumCharacters: 6,
      },
      {
        fieldSelector: "#field-password2 > input",
        warningTextSelector: "#field-password2 .field-warning",
        warningClass: "is-invalid",
        mustMatchSelector: "#field-password > input",
      },


      {
        fieldSelector: '#field-npi input',
        warningTextSelector: '#field-npi .field-warning',
        warningClass: 'is-invalid',
        required: true,
        minimumCharacters: 2,
      },
      {
        fieldSelector: '#field-specialty select',
        warningTextSelector: '#field-specialty .field-warning',
        warningClass: 'is-invalid',
        required: true,
        minimumCharacters: 2,
      },
      {
        fieldSelector: '#field-affiliation-practice input',
        warningTextSelector: '#field-affiliation-practice .field-warning',
        warningClass: 'is-invalid',
        required: true,
        minimumCharacters: 2,
      },
      {
        fieldSelector: '#field-zip input',
        warningTextSelector: '#field-zip .field-warning',
        warningClass: 'is-invalid',
        required: true,
        minimumCharacters: 2,
      },
    ];
  </script>

  <!-- VALIDATION SCRIPT START -->
  <script type="text/javascript">
    // Function Lookup
    var validationFuncs = {
      email: validateEmailValidator,
      pass: validatePassValidator,
      zip: validateZipValidator,
    };

    // Element Shaker
    function validateShake(selector) {
      landingElement
        .querySelectorAll(selector)
        .forEach((el) => el.classList.add('warning-shake'));
      setTimeout(() => {
        landingElement
          .querySelectorAll(selector)
          .forEach((el) => el.classList.remove('warning-shake'));
      }, 500);
    }

    // Validator Functions
    function validateEmailValidator(value) {
      // Email validation regex
      var emailRegx = new RegExp(
        /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
      );
      // Compare against regex
      var result = emailRegx.test(value);
      if (result) {
        return [];
      }
      return ['Must be a valid email address'];
    }

    function validatePassValidator(value) {
      // Inferno password validation regex
      var passRegx = new RegExp(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*\W)/);
      // Compare against regex
      var result = passRegx.test(value);
      if (result) {
        return [];
      }
      return [
        'Must contain at least one uppercase letter, one lowercase letter, one digit and one symbol',
      ];
    }

    function validateZipValidator(value) {
      // 5 and 5-4 digit US Zip Codes
      var zipRegx = new RegExp(/^\d{5}(-\d{4})?$/);
      // Compare against regex
      var result = zipRegx.test(value);
      if (result) {
        return [];
      }
      return ['Must be a valid US Zip Code'];
    }

    function validatePhoneValidator(value) {
      // International phone regex
      var phoneRegx = new RegExp(/^[+]?[\s./0-9]*[(]?[0-9]{1,4}[)]?[-\s./0-9]*$/);
      // Compare against regex
      var result = phoneRegx.test(value);
      if (result) {
        return [];
      } else {
        return ['Must be a valid phone number'];
      }
    }

    function debounce(func, wait, immediate) {
      var timeout;
      return function () {
        var context = this,
          args = arguments;
        var later = function () {
          timeout = null;
          if (!immediate) func.apply(context, args);
        };
        var callNow = immediate && !timeout;
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
        if (callNow) func.apply(context, args);
      };
    }

    function validatorCheckRequired(value, fieldData) {
      if (!fieldData.required) return [];

      // Check required (or checked if checkbox)
      if (
        value === '' ||
        (validatorGetEl(fieldData.fieldSelector).type === 'checkbox' &&
          validatorGetEl(fieldData.fieldSelector).checked === false)
      ) {
        return ['This field is required'];
      }

      return [];
    }

    function validatorCheckValidateFunc(value, fieldData) {
      return validationFuncs[fieldData.validation]
        ? validationFuncs[fieldData.validation](value)
        : [];
    }

    function validatorCheckMinMax(value, fieldData) {
      // Check minimum and maximum characters
      if (
        (fieldData.minimumCharacters && value.length < fieldData.minimumCharacters) ||
        (fieldData.maximumCharacters && value.length > fieldData.maximumCharacters)
      ) {
        var errorString = '';
        if (fieldData.minimumCharacters && fieldData.maximumCharacters) {
          errorString =
            'Must be between ' +
            fieldData.minimumCharacters +
            ' and ' +
            fieldData.maximumCharacters +
            ' charactors long';
        }

        if (fieldData.minimumCharacters && !fieldData.maximumCharacters) {
          errorString = 'Must be at least ' + fieldData.minimumCharacters + ' characters long';
        }
        if (!fieldData.minimumCharacters && fieldData.maximumCharacters) {
          errorString = 'Must be maximum ' + fieldData.maximumCharacters + ' characters long';
        }
        return [errorString];
      }
      return [];
    }

    function validatorCheckMatch(value, fieldData) {
      if (fieldData.mustMatchSelector) {
        var matchField = validatorGetEl(fieldData.mustMatchSelector);
        if (matchField.value !== value) {
          return ['Passwords must match'];
        }
      }
      return [];
    }

    function validatorValidate(value, fieldData) {
      var errors = [];
      errors.push(...validatorCheckRequired(value, fieldData));
      if (errors.length > 0) return errors;

      // If a validator function is specified, run it
      errors.push(...validatorCheckValidateFunc(value, fieldData));

      // Check min/max
      errors.push(...validatorCheckMinMax(value, fieldData));

      // Check Fields Match
      errors.push(...validatorCheckMatch(value, fieldData));

      return errors;
    }

    function validatorToggleClasses(fieldData, validationFields, errors, els) {
      fieldData._hasErrors = errors.length > 0;
      var op = fieldData._hasErrors ? 'add' : 'remove';

      // Add/remove warning class to elements if they exist
      els.inputEl && els.inputEl.classList[op](fieldData.warningClass);
      els.classEl && els.classEl.classList[op](fieldData.warningClass);

      // Add class to parent element, only remove if no errors in group
      if (
        fieldData._hasErrors ||
        (els.groupEl && validationFields.filter((field) => field._hasErrors).length === 0)
      ) {
        els.groupEl && els.groupEl.classList[op](fieldData.warningClass);
      }

      return;
    }

    function validatorDisplayErrors(fieldData, validationFields, errors) {
      validatorToggleClasses(fieldData, validationFields, errors, {
        textEl: validatorGetEl(fieldData.warningTextSelector),
        classEl: validatorGetEl(fieldData.warningElSelector),
        groupEl: validatorGetEl(fieldData.warningGroupSelector),
        inputEl: validatorGetEl(fieldData.fieldSelector),
      });

      // Add text to elements
      validatorGetEl(fieldData.warningTextSelector).textContent = fieldData._hasErrors
        ? (fieldData.displayName ? fieldData.displayName + ': ' : '') + errors.join(', ') + '.'
        : '';
    }

    function validatorProcess(fieldData, validationFields, skipIfPristine) {
      var thisValue = validatorGetEl(fieldData.fieldSelector).value;

      // Skip validation if field is still pristine, or set dirty
      if (skipIfPristine && !fieldData._isDirty && thisValue === '') return;
      fieldData._isDirty = true;

      var errors = validatorValidate(thisValue, fieldData);
      validatorDisplayErrors(fieldData, validationFields, errors);
    }

    function validatorRunAllValidations(validationFields, validationConfig) {
      var errorCount = 0;
      validationFields.forEach((field) => {
        var element = validatorGetEl(field.fieldSelector);
        var errors = validatorValidate(element.value, field).length;
        // If error, retrigger validation to actually display warnings
        if (errors > 0) {
          element.dispatchEvent(new Event('blur'));
        }
        errorCount += errors;
      });

      validatorDispatchButtonAction(errorCount, validationConfig);
    }

    // Runs button action based on error count
    function validatorDispatchButtonAction(errorCount, validationConfig) {
      if (errorCount === 0) {
        validationConfig.buttonActionOnValid();
      } else {
        validationConfig.buttonActionOnInvalid();
      }
    }

    // Return first element found
    function validatorGetEl(selector) {
      console.log(selector, landingElement);
      return landingElement.querySelector(selector);
    }

    // Return all elements found
    function validatorGetAllEl(selector) {
      return landingElement.querySelectorAll(selector);
    }

    // Default variables
    function validatorSetCleanField(field) {
      field._isDirty = false;
      field._hasErrors = false;
    }

    // Add Event Listeners
    function validatorRegisterEvents(field, validationFields) {
      var skipIfPristine = true;
      var element = validatorGetEl(field.fieldSelector);

      var validateProcessDebounced = debounce(
        (e) => validatorProcess(field, validationFields, skipIfPristine),
        750
      );

      console.log(field.fieldSelector, element);
      element.addEventListener('blur', (e) => {
        validatorProcess(field, validationFields);
      });

      element.addEventListener('input', validateProcessDebounced);
    }

    // Add Event Listeners For Button
    function validatorRegisterButton(validationFields, validationConfig) {
      var onClickElement = validatorGetEl(validationConfig.validateButtonSelector);
      onClickElement.addEventListener('click', (e) => {
        validatorRunAllValidations(validationFields, validationConfig);
      });
    }

    // Initialize Fields and Button
    function validatorInitialize(validationFields, validationConfig) {
      validationFields.forEach((field) => {
        validatorSetCleanField(field);
        validatorRegisterEvents(field, validationFields);
      });

      if (validationConfig.validateButtonSelector) {
        validatorRegisterButton(validationFields, validationConfig);
      }
    }

    // ** Call the Register Function once for each form **
    validatorInitialize(validationFields, validationConfig);
  </script>
  <!-- VALIDATION SCRIPT END -->


</inferno-snippet-content>
<!--  SNIPPET CONTENT END  -->
<!-- ********************* -->
<!-- ********************* -->
<!-- ********************* -->


</body>
